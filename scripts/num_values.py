import sys, re, os

tableau = sys.argv[1]
new_file = sys.argv[2]
fic_final = sys.argv[3]

tab = open(tableau).read()
tab = tab.split("\n")

with open(new_file, "a", encoding="utf-8") as tmp:
    for line in tab:
        ligne = line.split("\t")
        dic = {"5":"36","6":"36","7":"36","8":"36","9":"36","10":"36","11":"36","12":"36","13":"36","14":"36","15":"36","16":"37","17":"37","18":"37","19":"37","20":"37","21":"37","22":"37","23":"37","24":"37","25":"37","26":"38","27":"38","28":"38","29":"38","30":"38","31":"38","32":"38","33":"38","34":"38","35":"38","36":"39","37":"39","38":"39","39":"39","40":"39","41":"39","42":"39","43":"39","44":"39","45":"39","46":"40","47":"40","48":"40","49":"40","50":"40","51":"40","52":"40","53":"40","54":"40","55":"40","56":"41","57":"41","58":"41","59":"41","60":"41","61":"41","62":"41","63":"41","64":"41","65":"41","66":"42","67":"42","68":"42","69":"42","70":"42","71":"42","72":"42","73":"42","74":"42","75":"42","76":"43","77":"43","78":"43","79":"43","80":"43","81":"43","82":"43","83":"43","84":"43","85":"43","86":"44","87":"44","88":"44","89":"44","90":"44","91":"44","92":"44","93":"1","94":"1","95":"1","96":"1","97":"1","98":"1","99":"1","100":"1","101":"1","102":"1","103":"1","104":"1","105":"1","106":"1","107":"1","108":"1","109":"1","110":"1","111":"1","112":"1","113":"1","114":"2","115":"2","116":"2","117":"2","118":"2","119":"2","120":"2","121":"2","122":"2","123":"2","124":"2","125":"2","126":"2","127":"2","128":"2","129":"2","130":"2","131":"2","132":"2","133":"2","134":"3","135":"3","136":"3","137":"3","138":"3","139":"3","140":"3","141":"3","142":"3","143":"3","144":"3","145":"3","146":"3","147":"3","148":"3","149":"3","150":"3","151":"3","152":"3","153":"3","154":"4","155":"4","156":"4","157":"4","158":"4","159":"4","160":"4","161":"4","162":"4","163":"4","164":"4","165":"4","166":"4","167":"4","168":"4","169":"4","170":"4","171":"4","172":"4","173":"4","174":"5","175":"5","176":"5","177":"5","178":"5","179":"5","180":"5","181":"5","182":"5","183":"5","184":"5","185":"5","186":"5","187":"5","188":"5","189":"5","190":"5","191":"5","192":"5","193":"5","194":"6","195":"6","196":"6","197":"6","198":"6","199":"6","200":"6","201":"6","202":"6","203":"6","204":"6","205":"6","206":"6","207":"6","208":"6","209":"6","210":"6","211":"6","212":"6","213":"6","214":"7","215":"7","216":"7","217":"7","218":"7","219":"7","220":"7","221":"7","222":"7","223":"7","224":"7","225":"7","226":"7","227":"7","228":"7","229":"7","230":"7","231":"7","232":"7","233":"7","234":"8","235":"8","236":"8","237":"8","238":"8","239":"8","240":"8","241":"8","242":"8","243":"8","244":"8","245":"8","246":"8","247":"8","248":"8","249":"8","250":"8","251":"8","252":"8","253":"8","254":"9","255":"9","256":"9","257":"9","258":"9","259":"9","260":"9","261":"9","262":"9","263":"9","264":"9","265":"9","266":"9","267":"9","268":"9","269":"9","270":"9","271":"9","272":"9","273":"9","274":"10","275":"10","276":"10","277":"10","278":"10","279":"10","280":"10","281":"10","282":"10","283":"10","284":"10","285":"10","286":"10","287":"10","288":"10","289":"10","290":"10","291":"10","292":"10","293":"10","294":"11","295":"11","296":"11","297":"11","298":"11","299":"11","300":"11","301":"11","302":"11","303":"11","304":"11","305":"11","306":"11","307":"11","308":"11","309":"11","310":"11","311":"11","312":"11","313":"11","314":"12","315":"12","316":"12","317":"12","318":"12","319":"12","320":"12","321":"12","322":"12","323":"12","324":"12","325":"12","326":"12","327":"12","328":"12","329":"12","330":"12","331":"12","332":"12","333":"12","334":"13","335":"13","336":"13","337":"13","338":"13","339":"13","340":"13","341":"13","342":"13","343":"13","344":"13","345":"13","346":"13","347":"13","348":"13","349":"13","350":"13","351":"13","352":"13","353":"13","354":"14","355":"14","356":"14","357":"14","358":"14","359":"14","360":"14","361":"14","362":"14","363":"14","364":"14","365":"14","366":"14","367":"14","368":"14","369":"14","370":"14","371":"14","372":"14","373":"14","374":"15","375":"15","376":"15","377":"15","378":"15","379":"15","380":"15","381":"15","382":"15","383":"15","384":"15","385":"15","386":"15","387":"15","388":"15","389":"15","390":"15","391":"15","392":"15","393":"15","394":"16","395":"16","396":"16","397":"16","398":"16","399":"16","400":"16","401":"16","402":"16","403":"16","404":"16","405":"16","406":"16","407":"16","408":"16","409":"16","410":"16","411":"16","412":"16","413":"16","414":"17","415":"17","416":"17","417":"17","418":"17","419":"17","420":"17","421":"17","422":"17","423":"17","424":"17","425":"17","426":"17","427":"17","428":"17","429":"17","430":"17","431":"17","432":"17","433":"17","434":"18","435":"18","436":"18","437":"18","438":"18","439":"18","440":"18","441":"18","442":"18","443":"18","444":"18","445":"18","446":"18","447":"18","448":"18","449":"18","450":"18","451":"18","452":"18","453":"18","454":"19","455":"19","456":"19","457":"19","458":"19","459":"19","460":"19","461":"19","462":"19","463":"19","464":"19","465":"19","466":"19","467":"19","468":"19","469":"19","470":"19","471":"19","472":"19","473":"19","474":"20","475":"20","476":"20","477":"20","478":"20","479":"20","480":"20","481":"20","482":"20","483":"20","484":"20","485":"20","486":"20","487":"20","488":"20","489":"20","490":"20","491":"20","492":"20","493":"20","494":"21","495":"21","496":"21","497":"21","498":"21","499":"21","500":"21","501":"21","502":"21","503":"21","504":"21","505":"21","506":"21","507":"21","508":"21","509":"21","510":"21","511":"21","512":"21","513":"21","514":"22","515":"22","516":"22","517":"22","518":"22","519":"22","520":"22","521":"22","522":"22","523":"22","524":"22","525":"22","526":"22","527":"22","528":"22","529":"22","530":"22","531":"22","532":"22","533":"22","534":"23","535":"23","536":"23","537":"23","538":"23","539":"23","540":"23","541":"23","542":"23","543":"23","544":"23","545":"23","546":"23","547":"23","548":"23","549":"23","550":"23","551":"23","552":"23","553":"23","554":"24","555":"24","556":"24","557":"24","558":"24","559":"24","560":"24","561":"24","562":"24","563":"24","564":"24","565":"24","566":"24","567":"24","568":"24","569":"24","570":"24","571":"24","572":"24","573":"24","574":"25","575":"25","576":"25","577":"25","578":"25","579":"25","580":"25","581":"25","582":"25","583":"25","584":"25","585":"25","586":"25","587":"25","588":"25","589":"25","590":"25","591":"25","592":"25","593":"25","594":"26","595":"26","596":"26","597":"26","598":"26","599":"26","600":"26","601":"26","602":"26","603":"26","604":"26","605":"26","606":"26","607":"26","608":"26","609":"26","610":"26","611":"26","612":"26","613":"26","614":"27","615":"27","616":"27","617":"27","618":"27","619":"27","620":"27","621":"27","622":"27","623":"27","624":"27","625":"27","626":"27","627":"27","628":"27","629":"27","630":"27","631":"27","632":"27","633":"27","634":"28","635":"28","636":"28","637":"28","638":"28","639":"28","640":"28","641":"28","642":"28","643":"28","644":"28","645":"28","646":"28","647":"28","648":"28","649":"28","650":"28","651":"28","652":"28","653":"28","654":"29","655":"29","656":"29","657":"29","658":"29","659":"29","660":"29","661":"29","662":"29","663":"29","664":"29","665":"29","666":"29","667":"29","668":"29","669":"29","670":"29","671":"29","672":"29","673":"29","674":"30","675":"30","676":"30","677":"30","678":"30","679":"30","680":"30","681":"30","682":"30","683":"30","684":"30","685":"30","686":"30","687":"30","688":"30","689":"30","690":"30","691":"30","692":"30","693":"30","694":"31","695":"31","696":"31","697":"31","698":"31","699":"31","700":"31","701":"31","702":"31","703":"31","704":"31","705":"31","706":"31","707":"31","708":"31","709":"31","710":"31","711":"31","712":"31","713":"31","714":"32","715":"32","716":"32","717":"32","718":"32","719":"32","720":"32","721":"32","722":"32","723":"32","724":"32","725":"32","726":"32","727":"32","728":"32","729":"32","730":"32","731":"32","732":"32","733":"32","734":"33","735":"33","736":"33","737":"33","738":"33","739":"33","740":"33","741":"33","742":"33","743":"33","744":"33","745":"33","746":"33","747":"33","748":"33","749":"33","750":"33","751":"33","752":"33","753":"33","754":"34","755":"34","756":"34","757":"34","758":"34","759":"34","760":"34","761":"34","762":"34","763":"34","764":"34","765":"34","766":"34","767":"34","768":"34","769":"34","770":"34","771":"34","772":"34","773":"34","774":"35","775":"35","776":"35","777":"35","778":"35","779":"35","780":"35","781":"35","782":"35","783":"35","784":"35","785":"35","786":"35","787":"35","788":"35","789":"35","0.01":"80","0.02":"80","0.03":"80","0.04":"80","0.05":"80","0.06":"80","0.07":"80","0.08":"80","0.09":"80","0.1":"80","0.11":"81","0.12":"81","0.13":"81","0.14":"81","0.15":"81","0.16":"81","0.17":"81","0.18":"81","0.19":"81","0.2":"81","0.21":"82","0.22":"82","0.23":"82","0.24":"82","0.25":"82","0.26":"82","0.27":"82","0.28":"82","0.29":"82","0.3":"82","0.31":"83","0.32":"83","0.33":"83","0.34":"83","0.35":"83","0.36":"83","0.37":"83","0.38":"83","0.39":"83","0.4":"83","0.41":"84","0.42":"84","0.43":"84","0.44":"84","0.45":"84","0.46":"84","0.47":"84","0.48":"84","0.49":"84","0.5":"84","0.51":"85","0.52":"85","0.53":"85","0.54":"85","0.55":"85","0.56":"85","0.57":"85","0.58":"85","0.59":"85","0.6":"85","0.61":"86","0.62":"86","0.63":"86","0.64":"86","0.65":"86","0.66":"86","0.67":"86","0.68":"86","0.69":"86","0.7":"87","0.71":"87","0.72":"87","0.73":"87","0.74":"87","0.75":"87","0.76":"87","0.77":"87","0.78":"87","0.79":"87","0.8":"87","0.81":"88","0.82":"88","0.83":"88","0.84":"88","0.85":"88","0.86":"88","0.87":"88","0.88":"88","0.89":"88","0.9":"88","0.91":"89","0.92":"89","0.93":"89","0.94":"89","0.95":"89","0.96":"89","0.97":"89","0.98":"89","0.99":"89","1.0":"89","1.01":"90","1.02":"90","1.03":"90","1.04":"90","1.05":"90","1.06":"90","1.07":"90","1.08":"90","1.09":"90","1.1":"90","1.11":"91","1.12":"91","1.13":"91","1.14":"91","1.15":"91","1.16":"91","1.17":"91","1.18":"91","1.19":"91","1.2":"91","1.21":"92","1.22":"92","1.23":"92","1.24":"92","1.25":"92","1.26":"92","1.27":"92","1.28":"92","1.29":"92","1.3":"92","1.31":"93","1.32":"93","1.33":"93","1.34":"93","1.35":"93","1.36":"93","1.37":"93","1.38":"93","1.39":"93","1.4":"94","1.41":"94","1.42":"94","1.43":"94","1.44":"94","1.45":"94","1.46":"94","1.47":"94","1.48":"94","1.49":"94","1.5":"94","1.51":"95","1.52":"95","1.53":"95","1.54":"95","1.55":"95","1.56":"95","1.57":"95","1.58":"95","1.59":"95","1.6":"95","1.61":"96","1.62":"96","1.63":"96","1.64":"96","1.65":"96","1.66":"96","1.67":"96","1.68":"96","1.69":"96"}

        ecrit = str([dic.get(n, n) for n in ligne])
        tmp.write(ecrit+"\n")

fic_nettoyage = open(new_file, encoding="utf-8").read()
fic_nettoyage = re.sub("\[", "", fic_nettoyage)
fic_nettoyage = re.sub("\]", "", fic_nettoyage)
fic_nettoyage = re.sub("'", "", fic_nettoyage)
fic_nettoyage = re.sub(",", "\t", fic_nettoyage)

with open (fic_final, "w", encoding="utf-8") as fic_final:
    fic_final.write(fic_nettoyage)

os.remove("res.txt")